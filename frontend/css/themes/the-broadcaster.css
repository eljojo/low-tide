/* THEME: The Broadcaster */
body[data-theme='the-broadcaster'] {
  --bg: #dcdcdc;
  --fg: #000000;
  --accent: #ff5500;
  --accent2: #0033aa;
  --muted: #555555;
  --card-bg: #ffffff;
  --success: #00aa00;
  --danger: #aa0000;
  --font-main: 'Helvetica', 'Arial', sans-serif;
  --font-mono: 'Monaco', 'Courier New', monospace;
  --border-radius: 0px;
  --shadow: 6px 6px 0px rgba(0, 0, 0, 1);
  --header-bg: #ffffff;
  --input-bg: #eeeeee;
  --border-color: #000000;
}

/* Broadcaster Theme Enhancements */
body[data-theme='the-broadcaster'] .lt-file-hero,
body[data-theme='the-broadcaster'] .lt-file-grid {
  border: 2px solid var(--fg) !important;
  box-shadow: 4px 4px 0px var(--fg) !important;
  border-radius: 0 !important;
}

body[data-theme='the-broadcaster'] header {
  border-bottom: 6px solid var(--fg);
}

body[data-theme='the-broadcaster'] h1 {
  text-transform: uppercase;
  font-weight: 900;
  font-size: 2rem;
  letter-spacing: 0.05em;
}

body[data-theme='the-broadcaster'] .lt-card {
  border: 3px solid var(--fg);
  box-shadow: 10px 10px 0px var(--fg);
}

/* Override for grid headers within the theme */
body[data-theme='the-broadcaster'] .lt-file-grid-header {
  background: var(--fg) !important;
  color: var(--card-bg) !important;
  text-transform: uppercase;
  font-weight: 900;
}

body[data-theme='the-broadcaster'] h2 {
  background: var(--fg);
  color: var(--card-bg);
  padding: 0.6rem 1rem;
  margin: -2rem -2rem 2rem -2rem; /* Pull to edges of card */
  font-size: 0.9rem; 
}

/* Explicitly target the Pane Title h2 to override the "Banner" style */
body[data-theme='the-broadcaster'] .pane-title-group h2 {
  font-size: 1.5rem;
  text-transform: uppercase;
  border-bottom: 4px solid var(--fg);
  padding-bottom: 0.4rem;
  line-height: 1;
}

body[data-theme='the-broadcaster'] .lt-btn,
body[data-theme='the-broadcaster'] button {
  border: 3px solid var(--fg);
  box-shadow: 4px 4px 0px var(--fg);
  border-radius: 0 !important;
}
body[data-theme='the-broadcaster'] .lt-job-item.selected {
  background: var(--fg);
  color: var(--card-bg);
  border-color: var(--fg);
}

body[data-theme='the-broadcaster'] .lt-pill {
  background: #fff !important;
  color: #000 !important;
  border: 2px solid #000 !important;
  box-shadow: 2px 2px 0px #000;
  font-weight: 900;
}

body[data-theme='the-broadcaster'] .lt-pill-running { border-color: #00dbff !important; }
body[data-theme='the-broadcaster'] .lt-pill-success { border-color: #38cc38 !important; }
body[data-theme='the-broadcaster'] .lt-pill-failed  { border-color: #ff0000 !important; }
body[data-theme='the-broadcaster'] .lt-pill-queued  { border-color: #888 !important; }

body[data-theme='the-broadcaster'] .lt-log-view {
  border: 3px solid var(--fg);
}
/* Theme-specific indicator overrides */
body[data-theme='the-broadcaster'] .lt-indicator-dot {
  animation: none;
  width: 12px;
  height: 12px;
  background: #00ff00;
  border: 2px solid #000;
  box-shadow: none;
  border-radius: 0 !important;
}

/* Running indicator positioning - move to avoid image overlap */
body[data-theme='the-broadcaster'] .lt-running-indicator {
  background: var(--fg);
  color: var(--card-bg);
  padding: 0.4rem 0.8rem;
  border: 3px solid var(--fg);
  box-shadow: 4px 4px 0px var(--fg);
  font-size: 0.65rem;
  font-weight: 900;
  letter-spacing: 0.1em;
  z-index: 20;
  top: 0rem;
  right: 1rem;
}

/* Move Downloading indicator next to buttons */
body[data-theme='the-broadcaster'] .lt-running-indicator {
  position: static !important;
  display: inline-flex !important;
  margin-right: 0.5rem;
  box-shadow: 3px 3px 0px var(--fg) !important;
  border: 3px solid var(--fg) !important;
  padding: 0.3rem 0.7rem !important;
  height: auto;
}

/* PAPER CLIP EFFECT */
body[data-theme='the-broadcaster'] .lt-job-image-container::before {
  content: "";
  position: absolute;
  top: -10px;
  left: 30px;
  width: 16px;
  height: 40px;
  border: 2px solid #777;
  border-radius: 10px;
  background: transparent;
  z-index: 10;
  box-shadow: 
    inset 1px 1px 0 rgba(255,255,255,0.8),
    1px 1px 2px rgba(0,0,0,0.3);
  pointer-events: none;
  transform: rotate(-5deg);
}

body[data-theme='the-broadcaster'] .lt-job-image-container::after {
  content: "";
  position: absolute;
  top: 5px;
  left: 34px;
  width: 8px;
  height: 20px;
  border-right: 2px solid #777;
  z-index: 10;
  border-radius: 0 0 5px 0;
}

/* BROADCASTER THEME: Larger image in top-right, positioned to avoid running indicator */
body[data-theme='the-broadcaster'] .lt-job-image-container {
  position: absolute;
  top: -2.3rem;
  right: 1rem;
  width: 210px;
  height: 140px;
  z-index: 25;
}

/* When running indicator is present, move image down to avoid overlap */
body[data-theme='the-broadcaster'] .lt-job-image-container {
  top: -2.3rem;
}

body[data-theme='the-broadcaster'] .lt-job-image {
  width: 100% !important;
  height: 100% !important;
  border: 3px solid var(--fg) !important;
  box-shadow: 4px 4px 0px var(--fg) !important;
  border-radius: 0 !important;
  transform: rotate(2deg);
  transition: transform 0.2s ease;
  object-fit: cover;
}

body[data-theme='the-broadcaster'] .lt-job-image:hover {
  transform: rotate(0deg) scale(1.05);
}

body[data-theme='the-broadcaster'] .lt-job-image-placeholder {
  width: 100% !important;
  height: 100% !important;
  border: 3px solid var(--fg) !important;
  box-shadow: 4px 4px 0px var(--fg) !important;
  border-radius: 0 !important;
  background: repeating-linear-gradient(
    45deg,
    var(--card-bg),
    var(--card-bg) 8px,
    #f0f0f0 8px,
    #f0f0f0 16px
  );
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  transform: rotate(2deg);
  font-size: 0.6rem;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Ensure title banner extends properly in broadcaster theme */
body[data-theme='the-broadcaster'] .pane-title-group h2 {
  /* Reset any margin issues that might be affecting banner positioning */
  margin: -2rem -2rem 1rem -2rem !important;
  padding: 0.8rem 2rem !important;
  background: var(--fg) !important;
  color: var(--card-bg) !important;
  font-size: 1.5rem;
  text-transform: uppercase;
  border-bottom: 4px solid var(--fg);
  line-height: 1;
}

/* Fix button layout and ensure proper card positioning for broadcaster */
body[data-theme='the-broadcaster'] .lt-card {
  position: relative; /* Ensure absolute positioned images are contained */
  min-height: 200px; /* Give enough space for absolutely positioned image */
}

/* BUTTON POSITIONING: Show buttons under title, hide bottom buttons */
body[data-theme='the-broadcaster'] .lt-actions-row {
  display: flex;
  gap: 0.5rem;
  align-items: center;
  flex-wrap: wrap;
  margin-top: 0.8rem;
  margin-bottom: 0.4rem;
}

/* Ensure indicator is inside actions row if we move it there in JSX, 
   but for now we'll handle it via CSS positioning relative to the container if needed.
   Actually, let's adjust JobHeader.tsx to make it easier. */


/* Hide the bottom button row in broadcaster theme */
body[data-theme='the-broadcaster'] .lt-row {
  display: none;
}
