"use strict";(()=>{var z,d,De,It,D,Je,Oe,He,Le,fe,le,_e,Ue,B={},Fe=[],Jt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,q=Array.isArray;function N(e,t){for(var n in t)e[n]=t[n];return e}function de(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function x(e,t,n){var o,s,r,i={};for(r in t)r=="key"?o=t[r]:r=="ref"?s=t[r]:i[r]=t[r];if(arguments.length>2&&(i.children=arguments.length>3?z.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(r in e.defaultProps)i[r]===void 0&&(i[r]=e.defaultProps[r]);return V(e,i,o,s,null)}function V(e,t,n,o,s){var r={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++De,__i:-1,__u:0};return s==null&&d.vnode!=null&&d.vnode(r),r}function pe(){return{current:null}}function w(e){return e.children}function k(e,t){this.props=e,this.context=t}function H(e,t){if(t==null)return e.__?H(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?H(e):null}function Me(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Me(e)}}function ue(e){(!e.__d&&(e.__d=!0)&&D.push(e)&&!te.__r++||Je!=d.debounceRendering)&&((Je=d.debounceRendering)||Oe)(te)}function te(){for(var e,t,n,o,s,r,i,a=1;D.length;)D.length>a&&D.sort(He),e=D.shift(),a=D.length,e.__d&&(n=void 0,o=void 0,s=(o=(t=e).__v).__e,r=[],i=[],t.__P&&((n=N({},o)).__v=o.__v+1,d.vnode&&d.vnode(n),he(t.__P,n,o,t.__n,t.__P.namespaceURI,32&o.__u?[s]:null,r,s??H(o),!!(32&o.__u),i),n.__v=o.__v,n.__.__k[n.__i]=n,Ve(r,n,i),o.__e=o.__=null,n.__e!=s&&Me(n)));te.__r=0}function $e(e,t,n,o,s,r,i,a,c,_,p){var l,h,f,g,S,C,v,m=o&&o.__k||Fe,T=t.length;for(c=At(n,t,m,c,T),l=0;l<T;l++)(f=n.__k[l])!=null&&(h=f.__i==-1?B:m[f.__i]||B,f.__i=l,C=he(e,f,h,s,r,i,a,c,_,p),g=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&me(h.ref,null,f),p.push(f.ref,f.__c||g,f)),S==null&&g!=null&&(S=g),(v=!!(4&f.__u))||h.__k===f.__k?c=We(f,c,e,v):typeof f.type=="function"&&C!==void 0?c=C:g&&(c=g.nextSibling),f.__u&=-7);return n.__e=S,c}function At(e,t,n,o,s){var r,i,a,c,_,p=n.length,l=p,h=0;for(e.__k=new Array(s),r=0;r<s;r++)(i=t[r])!=null&&typeof i!="boolean"&&typeof i!="function"?(typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?i=e.__k[r]=V(null,i,null,null,null):q(i)?i=e.__k[r]=V(w,{children:i},null,null,null):i.constructor==null&&i.__b>0?i=e.__k[r]=V(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):e.__k[r]=i,c=r+h,i.__=e,i.__b=e.__b+1,a=null,(_=i.__i=Rt(i,n,c,l))!=-1&&(l--,(a=n[_])&&(a.__u|=2)),a==null||a.__v==null?(_==-1&&(s>p?h--:s<p&&h++),typeof i.type!="function"&&(i.__u|=4)):_!=c&&(_==c-1?h--:_==c+1?h++:(_>c?h--:h++,i.__u|=4))):e.__k[r]=null;if(l)for(r=0;r<p;r++)(a=n[r])!=null&&(2&a.__u)==0&&(a.__e==o&&(o=H(a)),ze(a,a));return o}function We(e,t,n,o){var s,r;if(typeof e.type=="function"){for(s=e.__k,r=0;s&&r<s.length;r++)s[r]&&(s[r].__=e,t=We(s[r],t,n,o));return t}e.__e!=t&&(o&&(t&&e.type&&!t.parentNode&&(t=H(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function j(e,t){return t=t||[],e==null||typeof e=="boolean"||(q(e)?e.some(function(n){j(n,t)}):t.push(e)),t}function Rt(e,t,n,o){var s,r,i,a=e.key,c=e.type,_=t[n],p=_!=null&&(2&_.__u)==0;if(_===null&&a==null||p&&a==_.key&&c==_.type)return n;if(o>(p?1:0)){for(s=n-1,r=n+1;s>=0||r<t.length;)if((_=t[i=s>=0?s--:r++])!=null&&(2&_.__u)==0&&a==_.key&&c==_.type)return i}return-1}function Ae(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Jt.test(t)?n:n+"px"}function ee(e,t,n,o,s){var r,i;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||Ae(e.style,t,"");if(n)for(t in n)o&&n[t]==o[t]||Ae(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")r=t!=(t=t.replace(Le,"$1")),i=t.toLowerCase(),t=i in e||t=="onFocusOut"||t=="onFocusIn"?i.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?o?n.u=o.u:(n.u=fe,e.addEventListener(t,r?_e:le,r)):e.removeEventListener(t,r?_e:le,r);else{if(s=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Re(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=fe++;else if(t.t<n.u)return;return n(d.event?d.event(t):t)}}}function he(e,t,n,o,s,r,i,a,c,_){var p,l,h,f,g,S,C,v,m,T,R,Y,$,Ie,X,W,ae,E=t.type;if(t.constructor!=null)return null;128&n.__u&&(c=!!(32&n.__u),r=[a=t.__e=n.__e]),(p=d.__b)&&p(t);e:if(typeof E=="function")try{if(v=t.props,m="prototype"in E&&E.prototype.render,T=(p=E.contextType)&&o[p.__c],R=p?T?T.props.value:p.__:o,n.__c?C=(l=t.__c=n.__c).__=l.__E:(m?t.__c=l=new E(v,R):(t.__c=l=new k(v,R),l.constructor=E,l.render=Ot),T&&T.sub(l),l.state||(l.state={}),l.__n=o,h=l.__d=!0,l.__h=[],l._sb=[]),m&&l.__s==null&&(l.__s=l.state),m&&E.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=N({},l.__s)),N(l.__s,E.getDerivedStateFromProps(v,l.__s))),f=l.props,g=l.state,l.__v=t,h)m&&E.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),m&&l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(m&&E.getDerivedStateFromProps==null&&v!==f&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(v,R),t.__v==n.__v||!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(v,l.__s,R)===!1){for(t.__v!=n.__v&&(l.props=v,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(O){O&&(O.__=t)}),Y=0;Y<l._sb.length;Y++)l.__h.push(l._sb[Y]);l._sb=[],l.__h.length&&i.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(v,l.__s,R),m&&l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(f,g,S)})}if(l.context=R,l.props=v,l.__P=e,l.__e=!1,$=d.__r,Ie=0,m){for(l.state=l.__s,l.__d=!1,$&&$(t),p=l.render(l.props,l.state,l.context),X=0;X<l._sb.length;X++)l.__h.push(l._sb[X]);l._sb=[]}else do l.__d=!1,$&&$(t),p=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++Ie<25);l.state=l.__s,l.getChildContext!=null&&(o=N(N({},o),l.getChildContext())),m&&!h&&l.getSnapshotBeforeUpdate!=null&&(S=l.getSnapshotBeforeUpdate(f,g)),W=p,p!=null&&p.type===w&&p.key==null&&(W=Be(p.props.children)),a=$e(e,q(W)?W:[W],t,n,o,s,r,i,a,c,_),l.base=t.__e,t.__u&=-161,l.__h.length&&i.push(l),C&&(l.__E=l.__=null)}catch(O){if(t.__v=null,c||r!=null)if(O.then){for(t.__u|=c?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;r[r.indexOf(a)]=null,t.__e=a}else{for(ae=r.length;ae--;)de(r[ae]);ce(t)}else t.__e=n.__e,t.__k=n.__k,O.then||ce(t);d.__e(O,t,n)}else r==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):a=t.__e=Dt(n.__e,t,n,o,s,r,i,c,_);return(p=d.diffed)&&p(t),128&t.__u?void 0:a}function ce(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(ce)}function Ve(e,t,n){for(var o=0;o<n.length;o++)me(n[o],n[++o],n[++o]);d.__c&&d.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(r){r.call(s)})}catch(r){d.__e(r,s.__v)}})}function Be(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:q(e)?e.map(Be):N({},e)}function Dt(e,t,n,o,s,r,i,a,c){var _,p,l,h,f,g,S,C=n.props||B,v=t.props,m=t.type;if(m=="svg"?s="http://www.w3.org/2000/svg":m=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),r!=null){for(_=0;_<r.length;_++)if((f=r[_])&&"setAttribute"in f==!!m&&(m?f.localName==m:f.nodeType==3)){e=f,r[_]=null;break}}if(e==null){if(m==null)return document.createTextNode(v);e=document.createElementNS(s,m,v.is&&v),a&&(d.__m&&d.__m(t,r),a=!1),r=null}if(m==null)C===v||a&&e.data==v||(e.data=v);else{if(r=r&&z.call(e.childNodes),!a&&r!=null)for(C={},_=0;_<e.attributes.length;_++)C[(f=e.attributes[_]).name]=f.value;for(_ in C)if(f=C[_],_!="children"){if(_=="dangerouslySetInnerHTML")l=f;else if(!(_ in v)){if(_=="value"&&"defaultValue"in v||_=="checked"&&"defaultChecked"in v)continue;ee(e,_,null,f,s)}}for(_ in v)f=v[_],_=="children"?h=f:_=="dangerouslySetInnerHTML"?p=f:_=="value"?g=f:_=="checked"?S=f:a&&typeof f!="function"||C[_]===f||ee(e,_,f,C[_],s);if(p)a||l&&(p.__html==l.__html||p.__html==e.innerHTML)||(e.innerHTML=p.__html),t.__k=[];else if(l&&(e.innerHTML=""),$e(t.type=="template"?e.content:e,q(h)?h:[h],t,n,o,m=="foreignObject"?"http://www.w3.org/1999/xhtml":s,r,i,r?r[0]:n.__k&&H(n,0),a,c),r!=null)for(_=r.length;_--;)de(r[_]);a||(_="value",m=="progress"&&g==null?e.removeAttribute("value"):g!=null&&(g!==e[_]||m=="progress"&&!g||m=="option"&&g!=C[_])&&ee(e,_,g,C[_],s),_="checked",S!=null&&S!=e[_]&&ee(e,_,S,C[_],s))}return e}function me(e,t,n){try{if(typeof e=="function"){var o=typeof e.__u=="function";o&&e.__u(),o&&t==null||(e.__u=e(t))}else e.current=t}catch(s){d.__e(s,n)}}function ze(e,t,n){var o,s;if(d.unmount&&d.unmount(e),(o=e.ref)&&(o.current&&o.current!=e.__e||me(o,null,t)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(r){d.__e(r,t)}o.base=o.__P=null}if(o=e.__k)for(s=0;s<o.length;s++)o[s]&&ze(o[s],t,n||typeof e.type!="function");n||de(e.__e),e.__c=e.__=e.__e=void 0}function Ot(e,t,n){return this.constructor(e,n)}function I(e,t,n){var o,s,r,i;t==document&&(t=document.documentElement),d.__&&d.__(e,t),s=(o=typeof n=="function")?null:n&&n.__k||t.__k,r=[],i=[],he(t,e=(!o&&n||t).__k=x(w,null,[e]),s||B,B,t.namespaceURI,!o&&n?[n]:s?null:t.firstChild?z.call(t.childNodes):null,r,!o&&n?n:s?s.__e:t.firstChild,o,i),Ve(r,e,i)}function ve(e,t){I(e,t,ve)}function qe(e,t,n){var o,s,r,i,a=N({},e.props);for(r in e.type&&e.type.defaultProps&&(i=e.type.defaultProps),t)r=="key"?o=t[r]:r=="ref"?s=t[r]:a[r]=t[r]===void 0&&i!=null?i[r]:t[r];return arguments.length>2&&(a.children=arguments.length>3?z.call(arguments,2):n),V(e.type,a,o||e.key,s||e.ref,null)}function be(e){function t(n){var o,s;return this.getChildContext||(o=new Set,(s={})[t.__c]=this,this.getChildContext=function(){return s},this.componentWillUnmount=function(){o=null},this.shouldComponentUpdate=function(r){this.props.value!=r.value&&o.forEach(function(i){i.__e=!0,ue(i)})},this.sub=function(r){o.add(r);var i=r.componentWillUnmount;r.componentWillUnmount=function(){o&&o.delete(r),i&&i.call(r)}}),n.children}return t.__c="__cC"+Ue++,t.__=e,t.Provider=t.__l=(t.Consumer=function(n,o){return n.children(o)}).contextType=t,t}z=Fe.slice,d={__e:function(e,t,n,o){for(var s,r,i;t=t.__;)if((s=t.__c)&&!s.__)try{if((r=s.constructor)&&r.getDerivedStateFromError!=null&&(s.setState(r.getDerivedStateFromError(e)),i=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,o||{}),i=s.__d),i)return s.__E=s}catch(a){e=a}throw e}},De=0,It=function(e){return e!=null&&e.constructor==null},k.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=N({},this.state),typeof e=="function"&&(e=e(N({},n),this.props)),e&&N(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),ue(this))},k.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ue(this))},k.prototype.render=w,D=[],Oe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,He=function(e,t){return e.__v.__b-t.__v.__b},te.__r=0,Le=/(PointerCapture)$|Capture$/i,fe=0,le=Re(!1),_e=Re(!0),Ue=0;var J,b,ye,Ge,L=0,nt=[],y=d,Ze=y.__b,Ke=y.__r,Qe=y.diffed,Ye=y.__c,Xe=y.unmount,et=y.__;function U(e,t){y.__h&&y.__h(b,e,L||t),L=0;var n=b.__H||(b.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function oe(e){return L=1,re(ot,e)}function re(e,t,n){var o=U(J++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):ot(void 0,t),function(a){var c=o.__N?o.__N[0]:o.__[0],_=o.t(c,a);c!==_&&(o.__N=[_,o.__[1]],o.__c.setState({}))}],o.__c=b,!b.__f)){var s=function(a,c,_){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(h){return!!h.__c});if(p.every(function(h){return!h.__N}))return!r||r.call(this,a,c,_);var l=o.__c.props!==a;return p.forEach(function(h){if(h.__N){var f=h.__[0];h.__=h.__N,h.__N=void 0,f!==h.__[0]&&(l=!0)}}),r&&r.call(this,a,c,_)||l};b.__f=!0;var r=b.shouldComponentUpdate,i=b.componentWillUpdate;b.componentWillUpdate=function(a,c,_){if(this.__e){var p=r;r=void 0,s(a,c,_),r=p}i&&i.call(this,a,c,_)},b.shouldComponentUpdate=s}return o.__N||o.__}function A(e,t){var n=U(J++,3);!y.__s&&Ee(n.__H,t)&&(n.__=e,n.u=t,b.__H.__h.push(n))}function F(e,t){var n=U(J++,4);!y.__s&&Ee(n.__H,t)&&(n.__=e,n.u=t,b.__h.push(n))}function M(e){return L=5,G(function(){return{current:e}},[])}function Ce(e,t,n){L=6,F(function(){if(typeof e=="function"){var o=e(t());return function(){e(null),o&&typeof o=="function"&&o()}}if(e)return e.current=t(),function(){return e.current=null}},n==null?n:n.concat(e))}function G(e,t){var n=U(J++,7);return Ee(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function we(e,t){return L=8,G(function(){return e},t)}function ke(e){var t=b.context[e.__c],n=U(J++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(b)),t.props.value):e.__}function Se(e,t){y.useDebugValue&&y.useDebugValue(t?t(e):e)}function xe(){var e=U(J++,11);if(!e.__){for(var t=b.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Ht(){for(var e;e=nt.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ne),e.__H.__h.forEach(ge),e.__H.__h=[]}catch(t){e.__H.__h=[],y.__e(t,e.__v)}}y.__b=function(e){b=null,Ze&&Ze(e)},y.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),et&&et(e,t)},y.__r=function(e){Ke&&Ke(e),J=0;var t=(b=e.__c).__H;t&&(ye===b?(t.__h=[],b.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(ne),t.__h.forEach(ge),t.__h=[],J=0)),ye=b},y.diffed=function(e){Qe&&Qe(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(nt.push(t)!==1&&Ge===y.requestAnimationFrame||((Ge=y.requestAnimationFrame)||Lt)(Ht)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),ye=b=null},y.__c=function(e,t){t.some(function(n){try{n.__h.forEach(ne),n.__h=n.__h.filter(function(o){return!o.__||ge(o)})}catch(o){t.some(function(s){s.__h&&(s.__h=[])}),t=[],y.__e(o,n.__v)}}),Ye&&Ye(e,t)},y.unmount=function(e){Xe&&Xe(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{ne(o)}catch(s){t=s}}),n.__H=void 0,t&&y.__e(t,n.__v))};var tt=typeof requestAnimationFrame=="function";function Lt(e){var t,n=function(){clearTimeout(o),tt&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,35);tt&&(t=requestAnimationFrame(n))}function ne(e){var t=b,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),b=t}function ge(e){var t=b;e.__c=e.__(),b=t}function Ee(e,t){return!e||e.length!==t.length||t.some(function(n,o){return n!==e[o]})}function ot(e,t){return typeof t=="function"?t(e):t}var rt=e=>{let t,n=new Set,o=(_,p)=>{let l=typeof _=="function"?_(t):_;if(!Object.is(l,t)){let h=t;t=p??(typeof l!="object"||l===null)?l:Object.assign({},t,l),n.forEach(f=>f(t,h))}},s=()=>t,a={setState:o,getState:s,getInitialState:()=>c,subscribe:_=>(n.add(_),()=>n.delete(_))},c=t=e(o,s,a);return a},st=(e=>e?rt(e):rt);function pt(e,t){for(var n in t)e[n]=t[n];return e}function je(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var o in t)if(o!=="__source"&&e[o]!==t[o])return!0;return!1}function ht(e,t){var n=t(),o=oe({t:{__:n,u:t}}),s=o[0].t,r=o[1];return F(function(){s.__=n,s.u=t,Ne(s)&&r({t:s})},[e,n,t]),A(function(){return Ne(s)&&r({t:s}),e(function(){Ne(s)&&r({t:s})})},[e]),n}function Ne(e){var t,n,o=e.u,s=e.__;try{var r=o();return!((t=s)===(n=r)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch{return!0}}function mt(e){e()}function vt(e){return e}function bt(){return[!1,mt]}var yt=F;function Pe(e,t){this.props=e,this.context=t}function Ut(e,t){function n(s){var r=this.props.ref,i=r==s.ref;return!i&&r&&(r.call?r(null):r.current=null),t?!t(this.props,s)||!i:je(this.props,s)}function o(s){return this.shouldComponentUpdate=n,x(e,s)}return o.displayName="Memo("+(e.displayName||e.name)+")",o.prototype.isReactComponent=!0,o.__f=!0,o.type=e,o}(Pe.prototype=new k).isPureReactComponent=!0,Pe.prototype.shouldComponentUpdate=function(e,t){return je(this.props,e)||je(this.state,t)};var it=d.__b;d.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),it&&it(e)};var Ft=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Mt(e){function t(n){var o=pt({},n);return delete o.ref,e(o,n.ref||null)}return t.$$typeof=Ft,t.render=e,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var at=function(e,t){return e==null?null:j(j(e).map(t))},$t={map:at,forEach:at,count:function(e){return e?j(e).length:0},only:function(e){var t=j(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:j},Wt=d.__e;d.__e=function(e,t,n,o){if(e.then){for(var s,r=t;r=r.__;)if((s=r.__c)&&s.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),s.__c(e,t)}Wt(e,t,n,o)};var lt=d.unmount;function gt(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(o){typeof o.__c=="function"&&o.__c()}),e.__c.__H=null),(e=pt({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(o){return gt(o,t,n)})),e}function Ct(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(o){return Ct(o,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function se(){this.__u=0,this.o=null,this.__b=null}function wt(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Vt(e){var t,n,o,s=null;function r(i){if(t||(t=e()).then(function(a){a&&(s=a.default||a),o=!0},function(a){n=a,o=!0}),n)throw n;if(!o)throw t;return s?x(s,i):null}return r.displayName="Lazy",r.__f=!0,r}function Z(){this.i=null,this.l=null}d.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),lt&&lt(e)},(se.prototype=new k).__c=function(e,t){var n=t.__c,o=this;o.o==null&&(o.o=[]),o.o.push(n);var s=wt(o.__v),r=!1,i=function(){r||(r=!0,n.__R=null,s?s(a):a())};n.__R=i;var a=function(){if(!--o.__u){if(o.state.__a){var c=o.state.__a;o.__v.__k[0]=Ct(c,c.__c.__P,c.__c.__O)}var _;for(o.setState({__a:o.__b=null});_=o.o.pop();)_.forceUpdate()}};o.__u++||32&t.__u||o.setState({__a:o.__b=o.__v.__k[0]}),e.then(i,i)},se.prototype.componentWillUnmount=function(){this.o=[]},se.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=gt(this.__b,n,o.__O=o.__P)}this.__b=null}var s=t.__a&&x(w,null,e.fallback);return s&&(s.__u&=-33),[x(w,null,t.__a?null:e.children),s]};var _t=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function Bt(e){return this.getChildContext=function(){return e.context},e.children}function zt(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){I(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var o=t.__v;o!==null&&!o.__m&&o.__!==null;)o=o.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:o.__m},contains:function(){return!0},insertBefore:function(s,r){this.childNodes.push(s),t.h.insertBefore(s,r)},removeChild:function(s){this.childNodes.splice(this.childNodes.indexOf(s)>>>1,1),t.h.removeChild(s)}}}I(x(Bt,{context:t.context},e.__v),t.v)}function qt(e,t){var n=x(zt,{__v:e,h:t});return n.containerInfo=t,n}(Z.prototype=new k).__a=function(e){var t=this,n=wt(t.__v),o=t.l.get(e);return o[0]++,function(s){var r=function(){t.props.revealOrder?(o.push(s),_t(t,e,o)):s()};n?n(r):r()}},Z.prototype.render=function(e){this.i=null,this.l=new Map;var t=j(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Z.prototype.componentDidUpdate=Z.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){_t(e,n,t)})};var kt=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Gt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Zt=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Kt=/[A-Z0-9]/g,Qt=typeof document<"u",Yt=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function Xt(e,t,n){return t.__k==null&&(t.textContent=""),I(e,t),typeof n=="function"&&n(),e?e.__c:null}function en(e,t,n){return ve(e,t),typeof n=="function"&&n(),e?e.__c:null}k.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(k.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var ut=d.event;function tn(){}function nn(){return this.cancelBubble}function on(){return this.defaultPrevented}d.event=function(e){return ut&&(e=ut(e)),e.persist=tn,e.isPropagationStopped=nn,e.isDefaultPrevented=on,e.nativeEvent=e};var Te,rn={enumerable:!1,configurable:!0,get:function(){return this.class}},ct=d.vnode;d.vnode=function(e){typeof e.type=="string"&&(function(t){var n=t.props,o=t.type,s={},r=o.indexOf("-")===-1;for(var i in n){var a=n[i];if(!(i==="value"&&"defaultValue"in n&&a==null||Qt&&i==="children"&&o==="noscript"||i==="class"||i==="className")){var c=i.toLowerCase();i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&a===!0?a="":c==="translate"&&a==="no"?a=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?i="ondblclick":c!=="onchange"||o!=="input"&&o!=="textarea"||Yt(n.type)?c==="onfocus"?i="onfocusin":c==="onblur"?i="onfocusout":Zt.test(i)&&(i=c):c=i="oninput":r&&Gt.test(i)?i=i.replace(Kt,"-$&").toLowerCase():a===null&&(a=void 0),c==="oninput"&&s[i=c]&&(i="oninputCapture"),s[i]=a}}o=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=j(n.children).forEach(function(_){_.props.selected=s.value.indexOf(_.props.value)!=-1})),o=="select"&&s.defaultValue!=null&&(s.value=j(n.children).forEach(function(_){_.props.selected=s.multiple?s.defaultValue.indexOf(_.props.value)!=-1:s.defaultValue==_.props.value})),n.class&&!n.className?(s.class=n.class,Object.defineProperty(s,"className",rn)):(n.className&&!n.class||n.class&&n.className)&&(s.class=s.className=n.className),t.props=s})(e),e.$$typeof=kt,ct&&ct(e)};var ft=d.__r;d.__r=function(e){ft&&ft(e),Te=e.__c};var dt=d.diffed;d.diffed=function(e){dt&&dt(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),Te=null};var sn={ReactCurrentDispatcher:{current:{readContext:function(e){return Te.__n[e.__c].props.value},useCallback:we,useContext:ke,useDebugValue:Se,useDeferredValue:vt,useEffect:A,useId:xe,useImperativeHandle:Ce,useInsertionEffect:yt,useLayoutEffect:F,useMemo:G,useReducer:re,useRef:M,useState:oe,useSyncExternalStore:ht,useTransition:bt}}};function an(e){return x.bind(null,e)}function ie(e){return!!e&&e.$$typeof===kt}function ln(e){return ie(e)&&e.type===w}function _n(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function un(e){return ie(e)?qe.apply(null,arguments):e}function cn(e){return!!e.__k&&(I(null,e),!0)}function fn(e){return e&&(e.base||e.nodeType===1&&e)||null}var dn=function(e,t){return e(t)},pn=function(e,t){return e(t)},hn=w,mn=ie,K={useState:oe,useId:xe,useReducer:re,useEffect:A,useLayoutEffect:F,useInsertionEffect:yt,useTransition:bt,useDeferredValue:vt,useSyncExternalStore:ht,startTransition:mt,useRef:M,useImperativeHandle:Ce,useMemo:G,useCallback:we,useContext:ke,useDebugValue:Se,version:"18.3.1",Children:$t,render:Xt,hydrate:en,unmountComponentAtNode:cn,createPortal:qt,createElement:x,createContext:be,createFactory:an,cloneElement:un,createRef:pe,Fragment:w,isValidElement:ie,isElement:mn,isFragment:ln,isMemo:_n,findDOMNode:fn,Component:k,PureComponent:Pe,memo:Ut,forwardRef:Mt,flushSync:pn,unstable_batchedUpdates:dn,StrictMode:hn,Suspense:se,SuspenseList:Z,lazy:Vt,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:sn};var vn=e=>e;function bn(e,t=vn){let n=K.useSyncExternalStore(e.subscribe,K.useCallback(()=>t(e.getState()),[e,t]),K.useCallback(()=>t(e.getInitialState()),[e,t]));return K.useDebugValue(n),n}var St=e=>{let t=st(e),n=o=>bn(t,o);return Object.assign(n,t),n},xt=(e=>e?St(e):St);var yn=0;function u(e,t,n,o,s,r){t||(t={});var i,a,c=t;if("ref"in c)for(a in c={},t)a=="ref"?i=t[a]:c[a]=t[a];var _={type:e,props:c,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--yn,__i:-1,__u:0,__source:s,__self:r};if(typeof e=="function"&&(i=e.defaultProps))for(a in i)c[a]===void 0&&(c[a]=i[a]);return d.vnode&&d.vnode(_),_}var Q={},P=xt(e=>({jobs:{},selectedJobId:null,showArchived:!1,isPinned:!1,consoleCollapsed:!0,setJobs:t=>e(n=>{let o={};return t.forEach(s=>{o[s.id]={...n.jobs[s.id],...s}}),{jobs:o}}),updateJob:t=>e(n=>({jobs:{...n.jobs,[t.id]:{...n.jobs[t.id],...t}}})),selectJob:(t,n=!0)=>e(o=>{let s=o.jobs[t];s&&(!Q[t]||s.status==="running")&&setTimeout(()=>Cn(t),0);let r=o.consoleCollapsed;return s&&(r=s.status==="success"),{selectedJobId:t,consoleCollapsed:r,isPinned:n}}),setIsPinned:t=>e({isPinned:t}),deleteJob:t=>e(n=>{let o={...n.jobs};return delete o[t],delete Q[t],{jobs:o,selectedJobId:n.selectedJobId===t?null:n.selectedJobId}}),toggleArchived:()=>e(t=>({showArchived:!t.showArchived})),toggleConsole:()=>e(t=>({consoleCollapsed:!t.consoleCollapsed})),setConsoleCollapsed:t=>e({consoleCollapsed:t})}));async function Pt(){try{let t=await(await fetch("/api/jobs")).json();P.getState().setJobs(t);let n=t.find(o=>o.status==="running");n&&P.getState().selectJob(n.id)}catch(e){console.error("Initial load failed",e)}}async function gn(e){try{let t=await fetch(`/api/jobs/${e}`);if(t.ok){let n=await t.json();n&&P.getState().updateJob(n)}}catch(t){console.error(t)}}async function Cn(e){try{let t=await fetch(`/api/jobs/${e}/logs`);if(t.ok){let n=await t.text();Q[e]=n,window.dispatchEvent(new CustomEvent("job-logs-loaded",{detail:{jobId:e}}))}}catch(t){console.error(t)}}var Et=null;function Tt(){let e=location.protocol==="https:"?"wss:":"ws:",t=new WebSocket(e+"//"+location.host+"/ws/state");Et=t,t.onmessage=n=>{try{if(typeof n.data!="string")return;let o=JSON.parse(n.data);if(o.type==="job_snapshot"&&o.job){let s=o.job,r=P.getState(),i=r.jobs[s.id]?.status;r.updateJob(s),s.id===r.selectedJobId?i==="running"&&s.status==="success"&&r.setConsoleCollapsed(!0):s.status==="running"&&!r.isPinned&&P.getState().selectJob(s.id)}else o.type==="job_log"?(o.lines,window.dispatchEvent(new CustomEvent("job-log-stream",{detail:o}))):o.type==="jobs_archived"&&Pt()}catch(o){console.error(o)}},t.onclose=()=>{Et=null,setTimeout(Tt,2e3)}}function wn(e){if(e===void 0)return"";let t=Number(e);if(t<1024)return t+" B";let n=t/1024;if(n<1024)return Math.round(n)+" KB";let o=n/1024;if(o<1024)return Math.round(o)+" MB";let s=o/1024;return Math.round(s)+" GB"}var kn=()=>{let e=P(t=>Object.values(t.jobs).some(n=>n.status==="running"));return u("header",{children:[u("div",{className:"blob"}),u("a",{href:"/",style:{textDecoration:"none",color:"inherit",cursor:"pointer"},children:u("h1",{style:{fontSize:"1.2rem",margin:0},children:"Low Tide"})}),u("div",{id:"global-indicator",style:{display:e?"block":"none"}})]})},Sn=()=>{let e=M(null);return u("section",{className:"card",children:[u("h2",{children:"New Download Job"}),u("form",{ref:e,onSubmit:async n=>{if(n.preventDefault(),!e.current)return;let o=new FormData(e.current),s=await fetch("/api/jobs",{method:"POST",body:o});if(s.ok){e.current.reset();let r=await s.json(),i=0;r.id?i=r.id:r.ids&&r.ids.length>0&&(i=r.ids[0]),i&&P.getState().selectJob(i,!1)}},children:[u("label",{htmlFor:"app",children:"Downloader"}),u("select",{id:"app",name:"app_id",children:[u("option",{value:"auto",children:"Auto-detect"}),(window.CONFIG?.apps||[]).map(n=>u("option",{value:n.id,children:n.name},n.id))]}),u("label",{htmlFor:"urls",children:"URLs (one per line or space-separated)"}),u("textarea",{id:"urls",name:"urls",rows:4,placeholder:`https://example.com/file1.mp3
https://example.com/file2.mp3`}),u("div",{className:"row",style:{justifyContent:"flex-end",marginTop:"0.8rem"},children:u("button",{type:"submit",children:"Queue Job"})})]})]})},Nt=({job:e,selected:t})=>u("div",{className:`job-item ${t?"selected":""}`,onClick:()=>{P.getState().selectJob(e.id),gn(e.id)},children:u("div",{className:"job-header",children:[u("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.title||e.url||e.original_url||`Job #${e.id}`}),u("div",{className:`status-pill status-${e.status}`,children:[e.status==="running"&&u("span",{className:"indicator"}),e.status.toUpperCase()]})]})}),xn=()=>{let{jobs:e,selectedJobId:t,showArchived:n,toggleArchived:o}=P(),s=Object.values(e).sort((a,c)=>new Date(c.created_at).getTime()-new Date(a.created_at).getTime()),r=s.filter(a=>!a.archived),i=s.filter(a=>a.archived);return u("section",{className:"card",style:{gridColumn:2},children:[u("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u("h2",{style:{margin:0},children:"Jobs"}),u("div",{children:u("button",{className:"secondary",onClick:o,children:n?"\u25BE":"\u25B8"})})]}),u("h3",{style:{color:"var(--muted)",margin:"0.6rem 0 0.2rem 0"},children:"Active"}),u("div",{className:"jobs-list monospace",children:r.map(a=>u(Nt,{job:a,selected:t===a.id},a.id))}),u("div",{style:{display:n?"block":"none",marginTop:"0.8rem"},children:[u("h3",{style:{color:"var(--muted)",margin:"0.6rem 0 0.2rem 0"},children:"Archived"}),u("div",{className:"jobs-list monospace",children:i.map(a=>u(Nt,{job:a,selected:t===a.id},a.id))})]})]})},En=({jobId:e})=>{let t=M(null);return A(()=>{if(!t.current)return;let n=Q[e]||"";n&&(t.current.innerHTML=n)},[e]),A(()=>{let n=s=>{if(s.detail.job_id===e&&t.current){let r=s.detail;if(r.lines)for(let[i,a]of Object.entries(r.lines)){let c=parseInt(i),_=t.current.querySelector(`[data-line="${c}"]`);_&&(_.outerHTML=a)}}},o=s=>{s.detail.jobId===e&&t.current&&(t.current.innerHTML=Q[e]||"")};return window.addEventListener("job-log-stream",n),window.addEventListener("job-logs-loaded",o),()=>{window.removeEventListener("job-log-stream",n),window.removeEventListener("job-logs-loaded",o)}},[e]),u("div",{ref:t,className:"terminal-container term-container"})},Nn=()=>{let{jobs:e,selectedJobId:t,consoleCollapsed:n,toggleConsole:o,deleteJob:s}=P(),r=t?e[t]:null;if(!r)return null;let i=r.title||r.url||r.original_url||`#${r.id}`,a=r.files||[],c=()=>fetch(`/api/jobs/${r.id}/retry`,{method:"POST"}),_=()=>fetch(`/api/jobs/${r.id}/cancel`,{method:"POST"}),p=()=>fetch(`/api/jobs/${r.id}/archive`,{method:"POST"}),l=()=>{confirm("\u26A0\uFE0F  Cleanup files? this will delete the files on disk")&&fetch(`/api/jobs/${r.id}/cleanup`,{method:"POST"})};return u("section",{className:"card",style:{gridColumn:"1 / -1",marginTop:"1.2rem"},children:[u("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:u("h2",{style:{margin:0},children:i})}),u("div",{style:{marginTop:"0.6rem",display:"flex",gap:"1.2rem",alignItems:"flex-start"},children:u("div",{style:{flex:1},children:[u("div",{className:"row",style:{marginBottom:"0.5rem"},children:[a.length>0&&r.status!=="cleaned"&&u("button",{className:"secondary",onClick:()=>{window.location.href=a.length===1?`/api/jobs/${r.id}/files/${a[0].id}`:`/api/jobs/${r.id}/zip`},children:a.length===1?"Download":"Download ZIP"}),r.original_url&&u("button",{className:"secondary",onClick:()=>window.open(r.original_url,"_blank"),children:"Open original"}),!r.archived&&r.status!=="running"&&r.status!=="queued"&&u("button",{className:"secondary",onClick:p,children:"Archive"}),r.status!=="cleaned"&&r.status!=="running"&&r.status!=="queued"&&u("button",{className:"secondary danger",onClick:l,children:"Cleanup Files"}),r.status==="running"&&u("button",{className:"secondary danger",onClick:_,children:"Cancel"}),(r.status==="failed"||r.status==="cancelled"||r.status==="cleaned")&&u("button",{className:"secondary",onClick:c,children:"Retry"})]}),u("div",{className:"files-area",children:u("div",{className:"expanded",children:u("div",{className:"files-list monospace",children:a.length===0?r.status!=="queued"&&r.status!=="running"&&u("em",{children:"No files recorded for this job."}):a.map(h=>u("div",{className:"file-item",children:u("div",{className:"file-name",children:[u("a",{href:`/api/jobs/${r.id}/files/${h.id}`,children:h.path.split("/").pop()}),u("span",{style:{color:"var(--muted)"},children:[" (",wn(h.size_bytes),")"]})]})},h.id))})})})]})}),r.status!=="queued"&&u("div",{style:{marginTop:"1rem"},children:[u("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u("h3",{style:{margin:"0 0 0.4rem 0",color:"var(--muted)"},children:"Logs"}),u("button",{className:"secondary",onClick:o,children:n?"Expand":"Collapse"})]}),u("div",{className:"console-area",children:u("div",{className:n?"":"expanded",id:"console-inner",children:u("div",{id:"log-view",className:"monospace",children:u(En,{jobId:r.id})})})})]})]})},jn=()=>(A(()=>{Pt(),Tt()},[]),u(w,{children:[u(kn,{}),u("main",{children:[u(Sn,{}),u(xn,{}),u(Nn,{})]}),u("footer",{children:[u("span",{children:"Copia non furta est."}),u("span",{children:"Mare liberum, data libera."})]})]})),jt=document.getElementById("app");jt&&I(u(jn,{}),jt);})();
