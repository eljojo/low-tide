"use strict";(()=>{var B,d,Re,Pt,R,Ae,Te,Oe,He,ce,se,le,Ue,V={},Le=[],At=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,z=Array.isArray;function j(e,t){for(var n in t)e[n]=t[n];return e}function fe(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function N(e,t,n){var o,_,r,i={};for(r in t)r=="key"?o=t[r]:r=="ref"?_=t[r]:i[r]=t[r];if(arguments.length>2&&(i.children=arguments.length>3?B.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(r in e.defaultProps)i[r]===void 0&&(i[r]=e.defaultProps[r]);return W(e,i,o,_,null)}function W(e,t,n,o,_){var r={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:_??++Re,__i:-1,__u:0};return _==null&&d.vnode!=null&&d.vnode(r),r}function de(){return{current:null}}function k(e){return e.children}function w(e,t){this.props=e,this.context=t}function O(e,t){if(t==null)return e.__?O(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?O(e):null}function Fe(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Fe(e)}}function ae(e){(!e.__d&&(e.__d=!0)&&R.push(e)&&!ee.__r++||Ae!=d.debounceRendering)&&((Ae=d.debounceRendering)||Te)(ee)}function ee(){for(var e,t,n,o,_,r,i,l=1;R.length;)R.length>l&&R.sort(Oe),e=R.shift(),l=R.length,e.__d&&(n=void 0,o=void 0,_=(o=(t=e).__v).__e,r=[],i=[],t.__P&&((n=j({},o)).__v=o.__v+1,d.vnode&&d.vnode(n),pe(t.__P,n,o,t.__n,t.__P.namespaceURI,32&o.__u?[_]:null,r,_??O(o),!!(32&o.__u),i),n.__v=o.__v,n.__.__k[n.__i]=n,We(r,n,i),o.__e=o.__=null,n.__e!=_&&Fe(n)));ee.__r=0}function Me(e,t,n,o,_,r,i,l,c,a,p){var s,h,f,g,x,C,v,m=o&&o.__k||Le,P=t.length;for(c=Dt(n,t,m,c,P),s=0;s<P;s++)(f=n.__k[s])!=null&&(h=f.__i==-1?V:m[f.__i]||V,f.__i=s,C=pe(e,f,h,_,r,i,l,c,a,p),g=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&he(h.ref,null,f),p.push(f.ref,f.__c||g,f)),x==null&&g!=null&&(x=g),(v=!!(4&f.__u))||h.__k===f.__k?c=$e(f,c,e,v):typeof f.type=="function"&&C!==void 0?c=C:g&&(c=g.nextSibling),f.__u&=-7);return n.__e=x,c}function Dt(e,t,n,o,_){var r,i,l,c,a,p=n.length,s=p,h=0;for(e.__k=new Array(_),r=0;r<_;r++)(i=t[r])!=null&&typeof i!="boolean"&&typeof i!="function"?(typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?i=e.__k[r]=W(null,i,null,null,null):z(i)?i=e.__k[r]=W(k,{children:i},null,null,null):i.constructor==null&&i.__b>0?i=e.__k[r]=W(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):e.__k[r]=i,c=r+h,i.__=e,i.__b=e.__b+1,l=null,(a=i.__i=Jt(i,n,c,s))!=-1&&(s--,(l=n[a])&&(l.__u|=2)),l==null||l.__v==null?(a==-1&&(_>p?h--:_<p&&h++),typeof i.type!="function"&&(i.__u|=4)):a!=c&&(a==c-1?h--:a==c+1?h++:(a>c?h--:h++,i.__u|=4))):e.__k[r]=null;if(s)for(r=0;r<p;r++)(l=n[r])!=null&&(2&l.__u)==0&&(l.__e==o&&(o=O(l)),Be(l,l));return o}function $e(e,t,n,o){var _,r;if(typeof e.type=="function"){for(_=e.__k,r=0;_&&r<_.length;r++)_[r]&&(_[r].__=e,t=$e(_[r],t,n,o));return t}e.__e!=t&&(o&&(t&&e.type&&!t.parentNode&&(t=O(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function I(e,t){return t=t||[],e==null||typeof e=="boolean"||(z(e)?e.some(function(n){I(n,t)}):t.push(e)),t}function Jt(e,t,n,o){var _,r,i,l=e.key,c=e.type,a=t[n],p=a!=null&&(2&a.__u)==0;if(a===null&&l==null||p&&l==a.key&&c==a.type)return n;if(o>(p?1:0)){for(_=n-1,r=n+1;_>=0||r<t.length;)if((a=t[i=_>=0?_--:r++])!=null&&(2&a.__u)==0&&l==a.key&&c==a.type)return i}return-1}function De(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||At.test(t)?n:n+"px"}function X(e,t,n,o,_){var r,i;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||De(e.style,t,"");if(n)for(t in n)o&&n[t]==o[t]||De(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")r=t!=(t=t.replace(He,"$1")),i=t.toLowerCase(),t=i in e||t=="onFocusOut"||t=="onFocusIn"?i.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?o?n.u=o.u:(n.u=ce,e.addEventListener(t,r?le:se,r)):e.removeEventListener(t,r?le:se,r);else{if(_=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Je(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=ce++;else if(t.t<n.u)return;return n(d.event?d.event(t):t)}}}function pe(e,t,n,o,_,r,i,l,c,a){var p,s,h,f,g,x,C,v,m,P,J,K,M,Pe,Y,$,ie,E=t.type;if(t.constructor!=null)return null;128&n.__u&&(c=!!(32&n.__u),r=[l=t.__e=n.__e]),(p=d.__b)&&p(t);e:if(typeof E=="function")try{if(v=t.props,m="prototype"in E&&E.prototype.render,P=(p=E.contextType)&&o[p.__c],J=p?P?P.props.value:p.__:o,n.__c?C=(s=t.__c=n.__c).__=s.__E:(m?t.__c=s=new E(v,J):(t.__c=s=new w(v,J),s.constructor=E,s.render=Tt),P&&P.sub(s),s.state||(s.state={}),s.__n=o,h=s.__d=!0,s.__h=[],s._sb=[]),m&&s.__s==null&&(s.__s=s.state),m&&E.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=j({},s.__s)),j(s.__s,E.getDerivedStateFromProps(v,s.__s))),f=s.props,g=s.state,s.__v=t,h)m&&E.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),m&&s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(m&&E.getDerivedStateFromProps==null&&v!==f&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(v,J),t.__v==n.__v||!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(v,s.__s,J)===!1){for(t.__v!=n.__v&&(s.props=v,s.state=s.__s,s.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(T){T&&(T.__=t)}),K=0;K<s._sb.length;K++)s.__h.push(s._sb[K]);s._sb=[],s.__h.length&&i.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(v,s.__s,J),m&&s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(f,g,x)})}if(s.context=J,s.props=v,s.__P=e,s.__e=!1,M=d.__r,Pe=0,m){for(s.state=s.__s,s.__d=!1,M&&M(t),p=s.render(s.props,s.state,s.context),Y=0;Y<s._sb.length;Y++)s.__h.push(s._sb[Y]);s._sb=[]}else do s.__d=!1,M&&M(t),p=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++Pe<25);s.state=s.__s,s.getChildContext!=null&&(o=j(j({},o),s.getChildContext())),m&&!h&&s.getSnapshotBeforeUpdate!=null&&(x=s.getSnapshotBeforeUpdate(f,g)),$=p,p!=null&&p.type===k&&p.key==null&&($=Ve(p.props.children)),l=Me(e,z($)?$:[$],t,n,o,_,r,i,l,c,a),s.base=t.__e,t.__u&=-161,s.__h.length&&i.push(s),C&&(s.__E=s.__=null)}catch(T){if(t.__v=null,c||r!=null)if(T.then){for(t.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;r[r.indexOf(l)]=null,t.__e=l}else{for(ie=r.length;ie--;)fe(r[ie]);ue(t)}else t.__e=n.__e,t.__k=n.__k,T.then||ue(t);d.__e(T,t,n)}else r==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):l=t.__e=Rt(n.__e,t,n,o,_,r,i,c,a);return(p=d.diffed)&&p(t),128&t.__u?void 0:l}function ue(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(ue)}function We(e,t,n){for(var o=0;o<n.length;o++)he(n[o],n[++o],n[++o]);d.__c&&d.__c(t,e),e.some(function(_){try{e=_.__h,_.__h=[],e.some(function(r){r.call(_)})}catch(r){d.__e(r,_.__v)}})}function Ve(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:z(e)?e.map(Ve):j({},e)}function Rt(e,t,n,o,_,r,i,l,c){var a,p,s,h,f,g,x,C=n.props||V,v=t.props,m=t.type;if(m=="svg"?_="http://www.w3.org/2000/svg":m=="math"?_="http://www.w3.org/1998/Math/MathML":_||(_="http://www.w3.org/1999/xhtml"),r!=null){for(a=0;a<r.length;a++)if((f=r[a])&&"setAttribute"in f==!!m&&(m?f.localName==m:f.nodeType==3)){e=f,r[a]=null;break}}if(e==null){if(m==null)return document.createTextNode(v);e=document.createElementNS(_,m,v.is&&v),l&&(d.__m&&d.__m(t,r),l=!1),r=null}if(m==null)C===v||l&&e.data==v||(e.data=v);else{if(r=r&&B.call(e.childNodes),!l&&r!=null)for(C={},a=0;a<e.attributes.length;a++)C[(f=e.attributes[a]).name]=f.value;for(a in C)if(f=C[a],a!="children"){if(a=="dangerouslySetInnerHTML")s=f;else if(!(a in v)){if(a=="value"&&"defaultValue"in v||a=="checked"&&"defaultChecked"in v)continue;X(e,a,null,f,_)}}for(a in v)f=v[a],a=="children"?h=f:a=="dangerouslySetInnerHTML"?p=f:a=="value"?g=f:a=="checked"?x=f:l&&typeof f!="function"||C[a]===f||X(e,a,f,C[a],_);if(p)l||s&&(p.__html==s.__html||p.__html==e.innerHTML)||(e.innerHTML=p.__html),t.__k=[];else if(s&&(e.innerHTML=""),Me(t.type=="template"?e.content:e,z(h)?h:[h],t,n,o,m=="foreignObject"?"http://www.w3.org/1999/xhtml":_,r,i,r?r[0]:n.__k&&O(n,0),l,c),r!=null)for(a=r.length;a--;)fe(r[a]);l||(a="value",m=="progress"&&g==null?e.removeAttribute("value"):g!=null&&(g!==e[a]||m=="progress"&&!g||m=="option"&&g!=C[a])&&X(e,a,g,C[a],_),a="checked",x!=null&&x!=e[a]&&X(e,a,x,C[a],_))}return e}function he(e,t,n){try{if(typeof e=="function"){var o=typeof e.__u=="function";o&&e.__u(),o&&t==null||(e.__u=e(t))}else e.current=t}catch(_){d.__e(_,n)}}function Be(e,t,n){var o,_;if(d.unmount&&d.unmount(e),(o=e.ref)&&(o.current&&o.current!=e.__e||he(o,null,t)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(r){d.__e(r,t)}o.base=o.__P=null}if(o=e.__k)for(_=0;_<o.length;_++)o[_]&&Be(o[_],t,n||typeof e.type!="function");n||fe(e.__e),e.__c=e.__=e.__e=void 0}function Tt(e,t,n){return this.constructor(e,n)}function A(e,t,n){var o,_,r,i;t==document&&(t=document.documentElement),d.__&&d.__(e,t),_=(o=typeof n=="function")?null:n&&n.__k||t.__k,r=[],i=[],pe(t,e=(!o&&n||t).__k=N(k,null,[e]),_||V,V,t.namespaceURI,!o&&n?[n]:_?null:t.firstChild?B.call(t.childNodes):null,r,!o&&n?n:_?_.__e:t.firstChild,o,i),We(r,e,i)}function me(e,t){A(e,t,me)}function ze(e,t,n){var o,_,r,i,l=j({},e.props);for(r in e.type&&e.type.defaultProps&&(i=e.type.defaultProps),t)r=="key"?o=t[r]:r=="ref"?_=t[r]:l[r]=t[r]===void 0&&i!=null?i[r]:t[r];return arguments.length>2&&(l.children=arguments.length>3?B.call(arguments,2):n),W(e.type,l,o||e.key,_||e.ref,null)}function ve(e){function t(n){var o,_;return this.getChildContext||(o=new Set,(_={})[t.__c]=this,this.getChildContext=function(){return _},this.componentWillUnmount=function(){o=null},this.shouldComponentUpdate=function(r){this.props.value!=r.value&&o.forEach(function(i){i.__e=!0,ae(i)})},this.sub=function(r){o.add(r);var i=r.componentWillUnmount;r.componentWillUnmount=function(){o&&o.delete(r),i&&i.call(r)}}),n.children}return t.__c="__cC"+Ue++,t.__=e,t.Provider=t.__l=(t.Consumer=function(n,o){return n.children(o)}).contextType=t,t}B=Le.slice,d={__e:function(e,t,n,o){for(var _,r,i;t=t.__;)if((_=t.__c)&&!_.__)try{if((r=_.constructor)&&r.getDerivedStateFromError!=null&&(_.setState(r.getDerivedStateFromError(e)),i=_.__d),_.componentDidCatch!=null&&(_.componentDidCatch(e,o||{}),i=_.__d),i)return _.__E=_}catch(l){e=l}throw e}},Re=0,Pt=function(e){return e!=null&&e.constructor==null},w.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=j({},this.state),typeof e=="function"&&(e=e(j({},n),this.props)),e&&j(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),ae(this))},w.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ae(this))},w.prototype.render=k,R=[],Te=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Oe=function(e,t){return e.__v.__b-t.__v.__b},ee.__r=0,He=/(PointerCapture)$|Capture$/i,ce=0,se=Je(!1),le=Je(!0),Ue=0;var D,b,be,qe,H=0,tt=[],y=d,Ge=y.__b,Ze=y.__r,Qe=y.diffed,Ke=y.__c,Ye=y.unmount,Xe=y.__;function U(e,t){y.__h&&y.__h(b,e,H||t),H=0;var n=b.__H||(b.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function ne(e){return H=1,oe(nt,e)}function oe(e,t,n){var o=U(D++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):nt(void 0,t),function(l){var c=o.__N?o.__N[0]:o.__[0],a=o.t(c,l);c!==a&&(o.__N=[a,o.__[1]],o.__c.setState({}))}],o.__c=b,!b.__f)){var _=function(l,c,a){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(h){return!!h.__c});if(p.every(function(h){return!h.__N}))return!r||r.call(this,l,c,a);var s=o.__c.props!==l;return p.forEach(function(h){if(h.__N){var f=h.__[0];h.__=h.__N,h.__N=void 0,f!==h.__[0]&&(s=!0)}}),r&&r.call(this,l,c,a)||s};b.__f=!0;var r=b.shouldComponentUpdate,i=b.componentWillUpdate;b.componentWillUpdate=function(l,c,a){if(this.__e){var p=r;r=void 0,_(l,c,a),r=p}i&&i.call(this,l,c,a)},b.shouldComponentUpdate=_}return o.__N||o.__}function L(e,t){var n=U(D++,3);!y.__s&&xe(n.__H,t)&&(n.__=e,n.u=t,b.__H.__h.push(n))}function F(e,t){var n=U(D++,4);!y.__s&&xe(n.__H,t)&&(n.__=e,n.u=t,b.__h.push(n))}function q(e){return H=5,G(function(){return{current:e}},[])}function ge(e,t,n){H=6,F(function(){if(typeof e=="function"){var o=e(t());return function(){e(null),o&&typeof o=="function"&&o()}}if(e)return e.current=t(),function(){return e.current=null}},n==null?n:n.concat(e))}function G(e,t){var n=U(D++,7);return xe(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Ce(e,t){return H=8,G(function(){return e},t)}function ke(e){var t=b.context[e.__c],n=U(D++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(b)),t.props.value):e.__}function Se(e,t){y.useDebugValue&&y.useDebugValue(t?t(e):e)}function we(){var e=U(D++,11);if(!e.__){for(var t=b.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Ot(){for(var e;e=tt.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(te),e.__H.__h.forEach(ye),e.__H.__h=[]}catch(t){e.__H.__h=[],y.__e(t,e.__v)}}y.__b=function(e){b=null,Ge&&Ge(e)},y.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Xe&&Xe(e,t)},y.__r=function(e){Ze&&Ze(e),D=0;var t=(b=e.__c).__H;t&&(be===b?(t.__h=[],b.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(te),t.__h.forEach(ye),t.__h=[],D=0)),be=b},y.diffed=function(e){Qe&&Qe(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(tt.push(t)!==1&&qe===y.requestAnimationFrame||((qe=y.requestAnimationFrame)||Ht)(Ot)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),be=b=null},y.__c=function(e,t){t.some(function(n){try{n.__h.forEach(te),n.__h=n.__h.filter(function(o){return!o.__||ye(o)})}catch(o){t.some(function(_){_.__h&&(_.__h=[])}),t=[],y.__e(o,n.__v)}}),Ke&&Ke(e,t)},y.unmount=function(e){Ye&&Ye(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{te(o)}catch(_){t=_}}),n.__H=void 0,t&&y.__e(t,n.__v))};var et=typeof requestAnimationFrame=="function";function Ht(e){var t,n=function(){clearTimeout(o),et&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,35);et&&(t=requestAnimationFrame(n))}function te(e){var t=b,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),b=t}function ye(e){var t=b;e.__c=e.__(),b=t}function xe(e,t){return!e||e.length!==t.length||t.some(function(n,o){return n!==e[o]})}function nt(e,t){return typeof t=="function"?t(e):t}var ot=e=>{let t,n=new Set,o=(a,p)=>{let s=typeof a=="function"?a(t):a;if(!Object.is(s,t)){let h=t;t=p??(typeof s!="object"||s===null)?s:Object.assign({},t,s),n.forEach(f=>f(t,h))}},_=()=>t,l={setState:o,getState:_,getInitialState:()=>c,subscribe:a=>(n.add(a),()=>n.delete(a))},c=t=e(o,_,l);return l},rt=(e=>e?ot(e):ot);function dt(e,t){for(var n in t)e[n]=t[n];return e}function Ee(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var o in t)if(o!=="__source"&&e[o]!==t[o])return!0;return!1}function pt(e,t){var n=t(),o=ne({t:{__:n,u:t}}),_=o[0].t,r=o[1];return F(function(){_.__=n,_.u=t,Ne(_)&&r({t:_})},[e,n,t]),L(function(){return Ne(_)&&r({t:_}),e(function(){Ne(_)&&r({t:_})})},[e]),n}function Ne(e){var t,n,o=e.u,_=e.__;try{var r=o();return!((t=_)===(n=r)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch{return!0}}function ht(e){e()}function mt(e){return e}function vt(){return[!1,ht]}var bt=F;function je(e,t){this.props=e,this.context=t}function Ut(e,t){function n(_){var r=this.props.ref,i=r==_.ref;return!i&&r&&(r.call?r(null):r.current=null),t?!t(this.props,_)||!i:Ee(this.props,_)}function o(_){return this.shouldComponentUpdate=n,N(e,_)}return o.displayName="Memo("+(e.displayName||e.name)+")",o.prototype.isReactComponent=!0,o.__f=!0,o.type=e,o}(je.prototype=new w).isPureReactComponent=!0,je.prototype.shouldComponentUpdate=function(e,t){return Ee(this.props,e)||Ee(this.state,t)};var _t=d.__b;d.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),_t&&_t(e)};var Lt=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ft(e){function t(n){var o=dt({},n);return delete o.ref,e(o,n.ref||null)}return t.$$typeof=Lt,t.render=e,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var it=function(e,t){return e==null?null:I(I(e).map(t))},Mt={map:it,forEach:it,count:function(e){return e?I(e).length:0},only:function(e){var t=I(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:I},$t=d.__e;d.__e=function(e,t,n,o){if(e.then){for(var _,r=t;r=r.__;)if((_=r.__c)&&_.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),_.__c(e,t)}$t(e,t,n,o)};var st=d.unmount;function yt(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(o){typeof o.__c=="function"&&o.__c()}),e.__c.__H=null),(e=dt({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(o){return yt(o,t,n)})),e}function gt(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(o){return gt(o,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function re(){this.__u=0,this.o=null,this.__b=null}function Ct(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Wt(e){var t,n,o,_=null;function r(i){if(t||(t=e()).then(function(l){l&&(_=l.default||l),o=!0},function(l){n=l,o=!0}),n)throw n;if(!o)throw t;return _?N(_,i):null}return r.displayName="Lazy",r.__f=!0,r}function Z(){this.i=null,this.l=null}d.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),st&&st(e)},(re.prototype=new w).__c=function(e,t){var n=t.__c,o=this;o.o==null&&(o.o=[]),o.o.push(n);var _=Ct(o.__v),r=!1,i=function(){r||(r=!0,n.__R=null,_?_(l):l())};n.__R=i;var l=function(){if(!--o.__u){if(o.state.__a){var c=o.state.__a;o.__v.__k[0]=gt(c,c.__c.__P,c.__c.__O)}var a;for(o.setState({__a:o.__b=null});a=o.o.pop();)a.forceUpdate()}};o.__u++||32&t.__u||o.setState({__a:o.__b=o.__v.__k[0]}),e.then(i,i)},re.prototype.componentWillUnmount=function(){this.o=[]},re.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=yt(this.__b,n,o.__O=o.__P)}this.__b=null}var _=t.__a&&N(k,null,e.fallback);return _&&(_.__u&=-33),[N(k,null,t.__a?null:e.children),_]};var lt=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function Vt(e){return this.getChildContext=function(){return e.context},e.children}function Bt(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){A(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var o=t.__v;o!==null&&!o.__m&&o.__!==null;)o=o.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:o.__m},contains:function(){return!0},insertBefore:function(_,r){this.childNodes.push(_),t.h.insertBefore(_,r)},removeChild:function(_){this.childNodes.splice(this.childNodes.indexOf(_)>>>1,1),t.h.removeChild(_)}}}A(N(Vt,{context:t.context},e.__v),t.v)}function zt(e,t){var n=N(Bt,{__v:e,h:t});return n.containerInfo=t,n}(Z.prototype=new w).__a=function(e){var t=this,n=Ct(t.__v),o=t.l.get(e);return o[0]++,function(_){var r=function(){t.props.revealOrder?(o.push(_),lt(t,e,o)):_()};n?n(r):r()}},Z.prototype.render=function(e){this.i=null,this.l=new Map;var t=I(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Z.prototype.componentDidUpdate=Z.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){lt(e,n,t)})};var kt=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,qt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Gt=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Zt=/[A-Z0-9]/g,Qt=typeof document<"u",Kt=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function Yt(e,t,n){return t.__k==null&&(t.textContent=""),A(e,t),typeof n=="function"&&n(),e?e.__c:null}function Xt(e,t,n){return me(e,t),typeof n=="function"&&n(),e?e.__c:null}w.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(w.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var at=d.event;function en(){}function tn(){return this.cancelBubble}function nn(){return this.defaultPrevented}d.event=function(e){return at&&(e=at(e)),e.persist=en,e.isPropagationStopped=tn,e.isDefaultPrevented=nn,e.nativeEvent=e};var Ie,on={enumerable:!1,configurable:!0,get:function(){return this.class}},ut=d.vnode;d.vnode=function(e){typeof e.type=="string"&&(function(t){var n=t.props,o=t.type,_={},r=o.indexOf("-")===-1;for(var i in n){var l=n[i];if(!(i==="value"&&"defaultValue"in n&&l==null||Qt&&i==="children"&&o==="noscript"||i==="class"||i==="className")){var c=i.toLowerCase();i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&l===!0?l="":c==="translate"&&l==="no"?l=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?i="ondblclick":c!=="onchange"||o!=="input"&&o!=="textarea"||Kt(n.type)?c==="onfocus"?i="onfocusin":c==="onblur"?i="onfocusout":Gt.test(i)&&(i=c):c=i="oninput":r&&qt.test(i)?i=i.replace(Zt,"-$&").toLowerCase():l===null&&(l=void 0),c==="oninput"&&_[i=c]&&(i="oninputCapture"),_[i]=l}}o=="select"&&_.multiple&&Array.isArray(_.value)&&(_.value=I(n.children).forEach(function(a){a.props.selected=_.value.indexOf(a.props.value)!=-1})),o=="select"&&_.defaultValue!=null&&(_.value=I(n.children).forEach(function(a){a.props.selected=_.multiple?_.defaultValue.indexOf(a.props.value)!=-1:_.defaultValue==a.props.value})),n.class&&!n.className?(_.class=n.class,Object.defineProperty(_,"className",on)):(n.className&&!n.class||n.class&&n.className)&&(_.class=_.className=n.className),t.props=_})(e),e.$$typeof=kt,ut&&ut(e)};var ct=d.__r;d.__r=function(e){ct&&ct(e),Ie=e.__c};var ft=d.diffed;d.diffed=function(e){ft&&ft(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),Ie=null};var rn={ReactCurrentDispatcher:{current:{readContext:function(e){return Ie.__n[e.__c].props.value},useCallback:Ce,useContext:ke,useDebugValue:Se,useDeferredValue:mt,useEffect:L,useId:we,useImperativeHandle:ge,useInsertionEffect:bt,useLayoutEffect:F,useMemo:G,useReducer:oe,useRef:q,useState:ne,useSyncExternalStore:pt,useTransition:vt}}};function _n(e){return N.bind(null,e)}function _e(e){return!!e&&e.$$typeof===kt}function sn(e){return _e(e)&&e.type===k}function ln(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function an(e){return _e(e)?ze.apply(null,arguments):e}function un(e){return!!e.__k&&(A(null,e),!0)}function cn(e){return e&&(e.base||e.nodeType===1&&e)||null}var fn=function(e,t){return e(t)},dn=function(e,t){return e(t)},pn=k,hn=_e,Q={useState:ne,useId:we,useReducer:oe,useEffect:L,useLayoutEffect:F,useInsertionEffect:bt,useTransition:vt,useDeferredValue:mt,useSyncExternalStore:pt,startTransition:ht,useRef:q,useImperativeHandle:ge,useMemo:G,useCallback:Ce,useContext:ke,useDebugValue:Se,version:"18.3.1",Children:Mt,render:Yt,hydrate:Xt,unmountComponentAtNode:un,createPortal:zt,createElement:N,createContext:ve,createFactory:_n,cloneElement:an,createRef:de,Fragment:k,isValidElement:_e,isElement:hn,isFragment:sn,isMemo:ln,findDOMNode:cn,Component:w,PureComponent:je,memo:Ut,forwardRef:Ft,flushSync:dn,unstable_batchedUpdates:fn,StrictMode:pn,Suspense:re,SuspenseList:Z,lazy:Wt,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:rn};var mn=e=>e;function vn(e,t=mn){let n=Q.useSyncExternalStore(e.subscribe,Q.useCallback(()=>t(e.getState()),[e,t]),Q.useCallback(()=>t(e.getInitialState()),[e,t]));return Q.useDebugValue(n),n}var St=e=>{let t=rt(e),n=o=>vn(t,o);return Object.assign(n,t),n},wt=(e=>e?St(e):St);var bn=0;function u(e,t,n,o,_,r){t||(t={});var i,l,c=t;if("ref"in c)for(l in c={},t)l=="ref"?i=t[l]:c[l]=t[l];var a={type:e,props:c,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--bn,__i:-1,__u:0,__source:_,__self:r};if(typeof e=="function"&&(i=e.defaultProps))for(l in i)c[l]===void 0&&(c[l]=i[l]);return d.vnode&&d.vnode(a),a}var S=wt(e=>({jobs:{},selectedJobId:null,showArchived:!1,consoleCollapsed:!0,setJobs:t=>e(n=>{let o={};return t.forEach(_=>{o[_.id]={...n.jobs[_.id],..._}}),{jobs:o}}),updateJob:t=>e(n=>({jobs:{...n.jobs,[t.id]:{...n.jobs[t.id],...t}}})),appendLog:(t,n)=>e(o=>{let _=o.jobs[t];if(!_)return o;let r=_.logs||"",i=r+(r!==""?`
`:"")+n;return{jobs:{...o.jobs,[t]:{..._,logs:i}}}}),selectJob:t=>e(n=>{let o=n.jobs[t],_=n.consoleCollapsed;return o&&(_=o.status==="success"),{selectedJobId:t,consoleCollapsed:_}}),deleteJob:t=>e(n=>{let o={...n.jobs};return delete o[t],{jobs:o,selectedJobId:n.selectedJobId===t?null:n.selectedJobId}}),toggleArchived:()=>e(t=>({showArchived:!t.showArchived})),toggleConsole:()=>e(t=>({consoleCollapsed:!t.consoleCollapsed})),setConsoleCollapsed:t=>e({consoleCollapsed:t})}));async function Et(){try{let t=await(await fetch("/api/jobs")).json();S.getState().setJobs(t);let n=t.find(o=>o.status==="running");n&&S.getState().selectJob(n.id)}catch(e){console.error("Initial load failed",e)}}async function jt(e){try{let t=await fetch(`/api/jobs/${e}`);if(t.ok){let n=await t.json();n&&S.getState().updateJob(n)}}catch(t){console.error(t)}}function It(){let e=location.protocol==="https:"?"wss:":"ws:",t=new WebSocket(e+"//"+location.host+"/ws/state");t.onmessage=n=>{try{let o=JSON.parse(n.data);if(o.type==="job_snapshot"&&o.job){let _=S.getState().jobs[o.job.id]?.status;S.getState().updateJob(o.job),o.job.id===S.getState().selectedJobId?_==="running"&&o.job.status==="success"&&S.getState().setConsoleCollapsed(!0):o.job.status==="running"&&(S.getState().selectJob(o.job.id),jt(o.job.id))}else o.type==="job_log"?S.getState().appendLog(o.job_id,o.line):o.type==="jobs_archived"&&Et()}catch(o){console.error(o)}},t.onclose=()=>setTimeout(It,2e3)}function yn(e){if(e===void 0)return"";let t=Number(e);if(t<1024)return t+" B";let n=t/1024;if(n<1024)return Math.round(n)+" KB";let o=n/1024;if(o<1024)return Math.round(o)+" MB";let _=o/1024;return Math.round(_)+" GB"}var gn=()=>{let e=S(t=>Object.values(t.jobs).some(n=>n.status==="running"));return u("header",{children:[u("div",{className:"blob"}),u("a",{href:"/",style:{textDecoration:"none",color:"inherit",cursor:"pointer"},children:u("h1",{style:{fontSize:"1.2rem",margin:0},children:"Low Tide"})}),u("div",{id:"global-indicator",style:{display:e?"block":"none"}})]})},Cn=()=>{let e=q(null);return u("section",{className:"card",children:[u("h2",{children:"New Download Job"}),u("form",{ref:e,onSubmit:async n=>{if(n.preventDefault(),!e.current)return;let o=new FormData(e.current);(await fetch("/api/jobs",{method:"POST",body:o})).ok&&e.current.reset()},children:[u("label",{htmlFor:"app",children:"Downloader"}),u("select",{id:"app",name:"app_id",children:[u("option",{value:"auto",children:"Auto-detect"}),(window.CONFIG?.apps||[]).map(n=>u("option",{value:n.id,children:n.name},n.id))]}),u("label",{htmlFor:"urls",children:"URLs (one per line or space-separated)"}),u("textarea",{id:"urls",name:"urls",rows:4,placeholder:`https://example.com/file1.mp3
https://example.com/file2.mp3`}),u("div",{className:"row",style:{justifyContent:"flex-end",marginTop:"0.8rem"},children:u("button",{type:"submit",children:"Queue Job"})})]})]})},xt=({job:e,selected:t})=>u("div",{className:`job-item ${t?"selected":""}`,onClick:()=>{S.getState().selectJob(e.id),jt(e.id)},children:u("div",{className:"job-header",children:[u("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.title||e.url||e.original_url||`Job #${e.id}`}),u("div",{className:`status-pill status-${e.status}`,children:[e.status==="running"&&u("span",{className:"indicator"}),e.status.toUpperCase()]})]})}),kn=()=>{let{jobs:e,selectedJobId:t,showArchived:n,toggleArchived:o}=S(),_=Object.values(e).sort((l,c)=>new Date(c.created_at).getTime()-new Date(l.created_at).getTime()),r=_.filter(l=>!l.archived),i=_.filter(l=>l.archived);return u("section",{className:"card",style:{gridColumn:2},children:[u("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u("h2",{style:{margin:0},children:"Jobs"}),u("div",{children:u("button",{className:"secondary",onClick:o,children:n?"\u25BE":"\u25B8"})})]}),u("h3",{style:{color:"var(--muted)",margin:"0.6rem 0 0.2rem 0"},children:"Active"}),u("div",{className:"jobs-list monospace",children:r.map(l=>u(xt,{job:l,selected:t===l.id},l.id))}),u("div",{style:{display:n?"block":"none",marginTop:"0.8rem"},children:[u("h3",{style:{color:"var(--muted)",margin:"0.6rem 0 0.2rem 0"},children:"Archived"}),u("div",{className:"jobs-list monospace",children:i.map(l=>u(xt,{job:l,selected:t===l.id},l.id))})]})]})},Sn=()=>{let{jobs:e,selectedJobId:t,consoleCollapsed:n,toggleConsole:o,deleteJob:_}=S(),r=t?e[t]:null;if(!r)return null;let i=r.title||r.url||r.original_url||`#${r.id}`,l=r.files||[],c=()=>fetch(`/api/jobs/${r.id}/retry`,{method:"POST"}),a=()=>fetch(`/api/jobs/${r.id}/archive`,{method:"POST"}),p=()=>{confirm("Delete job? \u26A0\uFE0F this will also delete the files")&&fetch(`/api/jobs/${r.id}/delete`,{method:"POST"}).then(()=>_(r.id))};return u("section",{className:"card",style:{gridColumn:"1 / -1",marginTop:"1.2rem"},children:[u("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:u("h2",{style:{margin:0},children:i})}),u("div",{style:{marginTop:"0.6rem",display:"flex",gap:"1.2rem",alignItems:"flex-start"},children:u("div",{style:{flex:1},children:[u("div",{className:"row",style:{marginBottom:"0.5rem"},children:[r.status==="failed"&&u("button",{className:"secondary",onClick:c,children:"Retry"}),l.length>0&&u("button",{className:"secondary",onClick:()=>{window.location.href=l.length===1?`/api/jobs/${r.id}/files/${l[0].id}`:`/api/jobs/${r.id}/zip`},children:l.length===1?"Download":"Download ZIP"}),r.original_url&&u("button",{className:"secondary",onClick:()=>window.open(r.original_url,"_blank"),children:"Open original"}),!r.archived&&u("button",{className:"secondary",onClick:a,children:"Archive"}),u("button",{className:"secondary danger",onClick:p,children:"Delete"})]}),u("div",{className:"files-area",children:u("div",{className:"expanded",children:u("div",{className:"files-list monospace",children:l.length===0?u("em",{children:"No files recorded for this job."}):l.map(s=>u("div",{className:"file-item",children:u("div",{className:"file-name",children:[u("a",{href:`/api/jobs/${r.id}/files/${s.id}`,children:s.path.split("/").pop()}),u("span",{style:{color:"var(--muted)"},children:[" (",yn(s.size_bytes),")"]})]})},s.id))})})})]})}),u("div",{style:{marginTop:"1rem"},children:[u("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u("h3",{style:{margin:"0 0 0.4rem 0",color:"var(--muted)"},children:"Logs"}),u("button",{className:"secondary",onClick:o,children:n?"Expand":"Collapse"})]}),u("div",{className:"console-area",children:u("div",{className:n?"":"expanded",id:"console-inner",children:u("div",{id:"log-view",className:"monospace",children:u("pre",{style:{margin:0,whiteSpace:"pre-wrap"},children:r.logs||"No logs."})})})})]})]})},wn=()=>(L(()=>{Et(),It()},[]),u(k,{children:[u(gn,{}),u("main",{children:[u(Cn,{}),u(kn,{}),u(Sn,{})]}),u("footer",{children:[u("span",{children:"One-at-a-time downloads"}),u("span",{children:"Go \xB7 WebSocket \xB7 SQLite \xB7 90s slime"})]})]})),Nt=document.getElementById("app");Nt&&A(u(wn,{}),Nt);})();
